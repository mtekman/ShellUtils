#!/bin/bash
# Command line thesaurus 

function thes() {
	BROWSER="/usr/bin/lynx -source" 
	WEBSITE="http://thesaurus.reference.com/search?q=$1" 

	FILTER="\
 | sed 's/\bstar\b//g'\
 | html2text --ignore-links\
 | sed -n '/^##  Syn/{:s /\n##/!{N;b s};/.*/p}'\
 | grep -v '##'\
 | tr '\n' '\r'\
 | sed 's/\r\s\s\*\s/ | /g'\
 | tr '\r' '\n'"
 
	if test $1; then 
	    eval "${BROWSER} ${WEBSITE} ${FILTER} "
	else 
	    echo "Usage: $0 word" 
	    exit 1 
	fi 
}
